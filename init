#!/bin/sh

set -e

TARGET_DIR="${1:-/output}"

echo "Initializing Gisia configuration files to: $TARGET_DIR"

if [ ! -d "$TARGET_DIR" ]; then
  echo "Error: Target directory $TARGET_DIR does not exist"
  exit 1
fi

echo "Copying coms directory..."
cp -a /init/coms "$TARGET_DIR/"

echo "Copying config directory..."
cp -a /init/config "$TARGET_DIR/"

echo "Copying .env.example..."
cp -a /init/.env.example "$TARGET_DIR/"

echo "Copying docker-compose.yml..."
cp -a /init/docker-compose.yml "$TARGET_DIR/"

echo "Configuration files initialized successfully!"
echo ""
echo "Next steps:"
echo "  1. Update and Copy .env.example to .env"
echo "  3. Start the application with docker compose up"
